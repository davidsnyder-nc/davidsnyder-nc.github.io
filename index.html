<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dsnyder.cloud</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Fira+Code:wght@500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* A cool, light blue-gray */
            color: #1f2937; /* Tailwind gray-800 */
            overflow-x: hidden; /* Prevent horizontal scroll */
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e2e8f0; /* Tailwind slate-200 */
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8; /* Tailwind slate-400 */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b; /* Tailwind slate-500 */
        }
        .nav-item.active {
            background-color: #e2e8f0; /* Tailwind slate-200 */
            color: #0f172a; /* Tailwind slate-900 */
            font-weight: 500;
        }
        .content-fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Styles for the floating code snippets */
        .floating-snippet {
            position: absolute;
            font-family: 'Fira Code', monospace;
            /* Adjusted opacity to be more visible */
            background-color: rgba(203, 213, 225, 0.15); 
            color: rgba(71, 85, 105, 0.2);
            padding: 1rem 2rem;
            border-radius: 1.5rem;
            border: 1px solid rgba(226, 232, 240, 0.2);
            font-size: 8rem;
            line-height: 1;
            font-weight: 500;
            white-space: pre;
            user-select: none;
            transform-origin: center center;
            /* Animation and transition for dynamic updates */
            animation: floatAndFade 30s infinite ease-in-out alternate;
            /* Added transform to the transition for smooth position changes */
            transition: opacity 1.5s ease-in-out, top 3s ease-in-out, left 3s ease-in-out, transform 3s ease-in-out;
        }
        
        /* The floating and fading animation - adjusted opacity */
        @keyframes floatAndFade {
            0% { transform: translateY(15px) rotate(-1deg); opacity: 0.15; }
            100% { transform: translateY(-15px) rotate(1deg); opacity: 0.3; }
        }
    </style>
</head>
<body class="relative">

    <!-- Container for floating code snippets in the background -->
    <div id="background-snippets" class="fixed inset-0 -z-10 overflow-hidden" aria-hidden="true">
      <!-- Snippets will be injected here by JavaScript -->
    </div>

    <!-- Mobile Menu Toggle Button -->
    <button id="menu-toggle" class="lg:hidden fixed top-5 right-5 z-30 p-2 bg-white/80 backdrop-blur-md rounded-lg shadow-lg text-gray-800">
        <svg id="menu-open-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
        <svg id="menu-close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
    </button>

    <!-- Floating Right-side Navigation -->
    <nav id="side-nav" class="hidden fixed top-0 right-0 bottom-0 w-72 bg-white/90 backdrop-blur-xl border-l border-gray-200/80 lg:flex flex-col p-6 lg:top-6 lg:bottom-6 lg:rounded-2xl lg:shadow-xl z-20">
        <h2 class="text-xl font-bold mb-6 text-gray-800 text-right">Projects</h2>
        <div id="nav-menu" class="space-y-2 text-right overflow-y-auto">
            <!-- Project links will be injected here by JavaScript -->
        </div>
    </nav>

    <!-- Main Content Area -->
    <main id="main-content" class="p-6 sm:p-10 lg:p-12 lg:mr-[22rem]">
        <!-- Content will be loaded here -->
    </main>

    <script>
        const projects = [
            {
                id: 'home',
                title: 'Home',
                description: `
                    <div class="flex flex-col items-center justify-center text-center">
                        <img src="https://dsnyder.cloud/images/glasses.png" alt="Logo" class="w-96 h-96 mb-8" onerror="this.src='https://placehold.co/384x384/transparent/333?text=DS'; this.onerror=null;">
                        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 flex items-center justify-center gap-x-3">
                            <span class="text-gray-400 font-mono">&lt;/&gt;</span>
                            <span>dsnyder.cloud</span>
                        </h1>
                        <p class="text-xl md:text-2xl text-gray-600 mt-2 mb-8">Innovating on the Web</p>
                        <a href="#" onclick="event.preventDefault();" title="Contact form coming soon" class="bg-blue-400 text-white font-semibold py-3 px-6 rounded-lg shadow-md cursor-not-allowed opacity-75">Contact Me</a>
                    </div>
                `
            },
            { id: 'briefnews', title: 'Brief News', description: "Stay informed without the noise. Brief News is an AI-powered news aggregator that fetches top stories from various sources, summarizes them into concise, easy-to-read snippets, and delivers the key information you need, fast. It's the perfect way to keep up with the world, minus the endless scrolling.", github: 'https://github.com/davidsnyder-nc/briefnews', website: 'https://dsnyder.cloud/briefnews/' },
            { id: 'githubbackup', title: 'GitHub Backup', description: 'A powerful and straightforward Python script designed to give you peace of mind. It systematically backs up all of your GitHub repositories, including source code, issues, pull requests, and wikis. Automate your backups and ensure your valuable code is always secure and recoverable.', github: 'https://github.com/davidsnyder-nc/githubbackup', website: null },
            { id: 'mediadashboard', title: 'MediaDashboard', description: 'Visualize your media world. This sleek, modern dashboard connects to your media servers to provide real-time statistics and activity monitoring. Track library growth, user watch history, and server performance through beautiful charts and an intuitive, clean interface.', github: 'https://github.com/davidsnyder-nc/mediadashboard', website: null },
            { id: 'mediadock', title: 'MediaDock', description: 'The ultimate command center for your home media server. MediaDock provides a unified, user-friendly interface to manage and interact with a suite of media applications like Sonarr, Radarr, and Plex. Simplify your media management workflow with this all-in-one tool.', github: 'https://github.com/davidsnyder-nc/mediadock', website: null },
            { id: 'mediainfo', title: 'MediaInfo', description: 'A lightweight and efficient command-line utility for media file analysis. Quickly retrieve and display detailed information and metadata for any video or audio file. It is an essential tool for developers and media enthusiasts who need to inspect file properties programmatically.', github: 'https://github.com/davidsnyder-nc/mediainfo', website: null },
            { id: 'podgen', title: 'PodGen', description: 'Unleash your creativity with the power of AI. PodGen is a revolutionary tool that generates full-length, high-quality podcast episodes from a single prompt. It creates engaging conversations with multiple AI speakers, researches topics, and produces a complete audio file, turning your ideas into a podcast in minutes.', github: 'https://github.com/davidsnyder-nc/aipodcast', website: 'https://dsnyder.cloud/podgen/' },
            { id: 'roostr', title: 'Roostr', description: "Take Your Media Into Your Own Hands. Roostr helps you curate your favorite photos and videos into a unique, seamless experience. Itâ€™s the intimate media viewer you've been waiting for.", logo: 'https://dsnyder.cloud/roostr/logo.png', github: null, website: 'https://dsnyder.cloud/roostr/' },
            { id: 'speak', title: 'Speak', description: 'Transform any text into natural, human-like speech. This application leverages modern, cloud-based speech synthesis APIs to provide high-quality audio generation. Ideal for creating voiceovers, listening to articles, or building accessibility features into your own applications.', github: 'https://github.com/davidsnyder-nc/speak', website: 'https://dsnyder.cloud/speak/' }
        ];

        const mainContent = document.getElementById('main-content');
        const navMenu = document.getElementById('nav-menu');
        const sideNav = document.getElementById('side-nav');
        const menuToggle = document.getElementById('menu-toggle');
        const openIcon = document.getElementById('menu-open-icon');
        const closeIcon = document.getElementById('menu-close-icon');

        const snippets = [ '</>', '()=>', '{}', '<div>', '...', '//', '&&', '||', '===', '[]', '=>', '?.', '` `', '++' ];
        let snippetElements = [];
        // --- NEW: Grid system to prevent overlap ---
        let snippetPositions = []; // This will hold the grid index for each snippet element

        function generateProjectHTML(project) {
            return `
                <div class="bg-white/80 backdrop-blur-sm p-8 rounded-2xl shadow-lg w-full max-w-4xl mx-auto content-fade-in min-h-[calc(100vh-6rem)] flex flex-col justify-center border border-white">
                    <div>
                        ${project.logo ? `<img src="${project.logo}" alt="${project.title} Logo" class="w-20 h-20 mb-6 rounded-lg object-contain" onerror="this.style.display='none'">` : ''}
                        <h2 class="text-4xl font-bold mb-4 text-gray-900">${project.title}</h2>
                        <p class="text-lg text-gray-600 mb-8">${project.description}</p>
                        <div class="flex flex-wrap gap-4">
                            ${project.website ? `<a href="${project.website}" target="_blank" rel="noopener noreferrer" class="inline-block bg-green-500 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-green-600 transition-colors duration-300">View Website</a>` : ''}
                            ${project.github ? `<a href="${project.github}" target="_blank" rel="noopener noreferrer" class="inline-block bg-gray-800 text-white font-semibold py-3 px-6 rounded-lg shadow-md hover:bg-gray-900 transition-colors duration-300">View on GitHub</a>` : ''}
                        </div>
                    </div>
                </div>
            `;
        }
        
        function loadContent(projectId) {
            const project = projects.find(p => p.id === projectId);
            if (!project) return;
            
            if (project.id === 'home') {
                mainContent.innerHTML = `
                <div class="flex items-center justify-center min-h-[calc(100vh-6rem)] w-full max-w-4xl mx-auto content-fade-in">
                    ${project.description}
                </div>
                `;
            } else {
                mainContent.innerHTML = generateProjectHTML(project);
            }

            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.dataset.id === projectId) {
                    item.classList.add('active');
                }
            });

            if (window.innerWidth < 1024) {
                sideNav.classList.add('hidden');
                openIcon.classList.remove('hidden');
                closeIcon.classList.add('hidden');
            }

            window.scrollTo(0, 0);
        }

        function createNavLinks() {
            projects.forEach((proj, index) => {
                const a = document.createElement('a');
                a.href = '#';
                a.textContent = proj.title;
                a.dataset.id = proj.id;
                a.className = 'nav-item block text-gray-600 hover:text-gray-900 py-2 px-4 rounded-lg transition-colors duration-200';
                if (index === 0) { a.classList.add('active'); }
                a.onclick = (e) => { e.preventDefault(); loadContent(proj.id); };
                navMenu.appendChild(a);

                if (index === 0) {
                    const divider = document.createElement('hr');
                    divider.className = 'my-2 border-gray-200/80';
                    navMenu.appendChild(divider);
                }
            });
        }

        function initMobileMenu() {
            menuToggle.addEventListener('click', () => {
                sideNav.classList.toggle('hidden');
                openIcon.classList.toggle('hidden');
                closeIcon.classList.toggle('hidden');
            });
        }

        // --- UPDATED: Snippet placement logic ---
        function initBackgroundSnippets() {
            const container = document.getElementById('background-snippets');
            const numSnippets = 8;
            const gridCols = 4;
            const gridRows = 2;
            const cellWidth = 100 / gridCols;
            const cellHeight = 100 / gridRows;

            // Create a shuffled array of grid positions
            let gridPositions = Array.from({ length: gridCols * gridRows }, (_, i) => i);
            for (let i = gridPositions.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [gridPositions[i], gridPositions[j]] = [gridPositions[j], gridPositions[i]];
            }

            for (let i = 0; i < numSnippets; i++) {
                const el = document.createElement('div');
                el.className = 'floating-snippet';
                el.textContent = snippets[i % snippets.length];

                const posIndex = gridPositions[i];
                snippetPositions.push(posIndex); // Store initial grid index
                
                const col = posIndex % gridCols;
                const row = Math.floor(posIndex / gridCols);
                
                // Position the element within its grid cell
                el.style.left = `${col * cellWidth + (Math.random() * 5 - 2.5)}%`; // Add small random offset
                el.style.top = `${row * cellHeight + (Math.random() * 5 - 2.5)}%`;

                const duration = Math.random() * 20 + 25;
                el.style.animationDuration = `${duration}s`;
                
                container.appendChild(el);
                snippetElements.push(el);
            }

            setInterval(updateRandomSnippet, 3500);
        }

        function updateRandomSnippet() {
             if (snippetElements.length === 0) return;

            // Fade out a random snippet
            const snippetIndex = Math.floor(Math.random() * snippetElements.length);
            const snippetToUpdate = snippetElements[snippetIndex];
            snippetToUpdate.style.opacity = '0';

            // After fade out, update content and move it, then fade back in
            setTimeout(() => {
                // Change content
                snippetToUpdate.textContent = snippets[Math.floor(Math.random() * snippets.length)];
                
                // Fade back in
                snippetToUpdate.style.opacity = '1';
            }, 1500); // Must match the CSS transition duration
        }

        window.addEventListener('load', () => {
            createNavLinks();
            loadContent('home');
            initMobileMenu();
            initBackgroundSnippets();
        });

    </script>
</body>
</html>
